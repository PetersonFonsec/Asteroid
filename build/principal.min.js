'use strict';var pegarElemento=function pegarElemento(seletor){return document.querySelector(seletor)};var pegarTodosElementos=function pegarTodosElementos(seletor){return document.querySelectorAll(seletor)};var pegarDadoLocal=function pegarDadoLocal(chave){return sessionStorage.getItem(chave)};var colocarDadoLocal=function colocarDadoLocal(chave,valor){return sessionStorage.setItem(chave,valor)};var alterarCss=function alterarCss(seletor,prop,valor){return pegarElemento(seletor).style[prop]=valor};var removerClass=function removerClass(seletor,classe){return pegarElemento(seletor).classList.remove(classe)};var addClass=function addClass(seletor,classe){return pegarElemento(seletor).classList.add(classe)};var alterarProp=function alterarProp(seletor,prop,valor){return pegarElemento(seletor).setAttribute(prop,valor)};var trocarImg=function trocarImg(seletor,valor){return alterarProp(seletor,'src',valor)};var limite=function limite(min,max){return min>=max};var moverVertical=function moverVertical(seletor,valor){return alterarCss(seletor,'bottom',valor)};var moverHorizontal=function moverHorizontal(seletor,valor){return alterarCss(seletor,'left',valor)};var removerElemento=function removerElemento(seletor,timer){var el=pegarElemento(seletor);if(el){pegarElemento(seletor).remove();clearInterval(timer)}};var criar=function criar(obj){var img=document.createElement('img');img.src=''+obj.src;img.setAttribute('id',''+obj.id);img.classList.add(''+obj.classe);img.style.left=''+obj.left;pegarElemento('#Nascimento').appendChild(img);return img};
"use strict";var nebulosa=function nebulosa(idStar){var Left=Math.floor(Math.random()*widthTela+1);var src="img/star/star.png";var id="star"+idStar;var classe="star";var left=Left+"px";cicloVida(src,id,classe,left)};var gerarPlanetas=function gerarPlanetas(idPlaneta){var borda=widthTela-30;var Left=Math.floor(Math.random()*borda+1);var planeta=Math.floor(Math.random()*3+1);var src="img/planetas/planeta"+planeta+".png";var id="Planetas"+idPlaneta;var classe="Planetas";var left=Left+"px";cicloVida(src,id,classe,left)};
"use strict";var cicloVida=function cicloVida(src,id,classe,left){var interval=arguments.length>4&&arguments[4]!==undefined?arguments[4]:20;var el=criar({src:src,id:id,classe:classe,left:left});var posisao=heightTela;var timer=setInterval(function(){if(!pause)posisao=limitarElemento(posisao,id,timer)},interval);return el};var limitarElemento=function limitarElemento(posisaoAtual,id,timer){posisaoAtual-=parseInt(config.dificuldade);limite(posisaoAtual,-10)?moverVertical("#"+id,posisaoAtual+"px"):removerElemento("#"+id,timer);return posisaoAtual};
"use strict";var posisao=function posisao(obj){var objeto=pegarElemento(obj);if(!objeto)return false;var posisao=objeto.posisao();var width=parseFloat(objeto.width-20);var height=parseFloat(objeto.height-20);return[[posisao.left,posisao.left+width],[posisao.top,posisao.top+height]]};var quandoColidir=function quandoColidir(el1,el2,callBack){for(var _len=arguments.length,params=Array(_len>3?_len-3:0),_key=3;_key<_len;_key++){params[_key-3]=arguments[_key]}var colisao=0;var colisaoVertical=colisao.colisao(el1[1],el2[1]);var colisaoHorizontal=colisao.colisao(el1[0],el2[0]);if(colisaoHorizontal&&colisaoVertical)callBack.apply(undefined,params)};var ColisaoMeteoroNave=function ColisaoMeteoroNave(id){var nave=posisao("#nave");var Meteoro=posisao("#"+id);if(Meteoro)quandoColidir(nave,Meteoro,gameOver)};var ColisaoMeteoroTiro=function ColisaoMeteoroTiro(IdMeteoro){var tiros=pegarTodosElementos(".tiro");tiros.forEach(function(tiro){for(var i=0;i<=tiros.length-1;i++){var Tiro=posisao("#"+tiro.attributes.id.textContent);var Meteoro=posisao("#"+IdMeteoro);if(Meteoro)quandoColidir(Tiro,Meteoro,morteMeteoro,IdMeteoro)}})};
"use strict";var dificuldade=function dificuldade(){return pegarElemento("#nivelDificuldade").value};var mobile=function mobile(){return pegarElemento("#mobile").checked};var audio=function audio(){return pegarElemento("#audio").checked};var chave="config";var setConfig=function setConfig(){var config={};config.dificuldade=dificuldade();config.mobile=mobile();config.audio=audio();colocarDadoLocal(chave,JSON.stringify(config))};var carregaConfig=function carregaConfig(){var config=JSON.parse(pegarDadoLocal(chave));if(config){pegarElemento("#nivelDificuldade").value=config.dificuldade;pegarElemento("#mobile").checked=config.mobile;pegarElemento("#audio").checked=config.audio}};var setConfigPadrao=function setConfigPadrao(){if(!pegarDadoLocal(chave)){var config={};config.dificuldade=10;config.mobile=false;config.audio=false;colocarDadoLocal(chave,JSON.stringify(config))}};
"use strict";var gameOver=function gameOver(){var estado=0;var explosao=setInterval(function(){estado++;if(estado>=5){clearInterval(explosao);setTimeout(function(){var pontos=pegarElemento("#contadorMeteoro").innerHTML;setHistoricoPontos(pontos)},500)}trocarImg("#nave","img/naveEspecial/NaveDestruida"+estado+".png");return estado},300)};
"use strict";var gerarMeteoro=function gerarMeteoro(idMeteoro){var tamanhoImg=100;var borda=widthTela-tamanhoImg;var margin=1;var largura=Math.floor(Math.random()*borda+margin);var src="img/meteoro/Meteoro1.png";var id="Meteoro"+idMeteoro;var classe="meteoro";var left=largura+"px";criar({src:src,id:id,classe:classe,left:left}).dataset.colisoes=0;var posisaoMeteoro=heightTela;var timer=setInterval(function(){if(!pause)posisaoMeteoro=rotinaMeteoro(posisaoMeteoro,id,timer)},40)};var rotinaMeteoro=function rotinaMeteoro(posisaoAtual,id,timer){posisaoAtual-=parseInt(config.dificuldade);ColisaoMeteoroNave(id);ColisaoMeteoroTiro(id);return moverMeteoro(id,posisaoAtual,timer)};var moverMeteoro=function moverMeteoro(id,pixels,timer){var seletor="#"+id;var meteoro=pegarElemento(seletor);if(meteoro){limite(pixels,-70)?moverVertical(seletor,pixels+"px"):removerElemento(seletor,timer)}return pixels};var morteMeteoro=function morteMeteoro(IdMeteoro){var seletor="#"+IdMeteoro;var meteoro=pegarElemento(seletor);if(meteoro){var colisoes=meteoro.dataset.colisoes;colisoes++;if(colisoes>=10){trocarImg(seletor,"img/meteoro/Meteoro3.png");var timeOut=setTimeout(function(){acresentarPontuacao();removerElemento(seletor,timeOut)},500)}else if(colisoes>0){trocarImg(seletor,"img/meteoro/Meteoro2.png")}meteoro.dataset.colisoes=colisoes}};
'use strict';var usarBotoes=function usarBotoes(){document.querySelector('#controle').style.display='block';var marginLeft=parseInt(widthTela/2);var bottom=parseInt(heightTela/100*20);var IdTiro=0;document.addEventListener('click',function(btn){var btnClicado=btn.target.dataset.tecla;switch(btnClicado){case'a':marginLeft=movimentaHorizontalmenteNave('esquerda',marginLeft);break;case'd':marginLeft=movimentaHorizontalmenteNave('direita',marginLeft);break;case'espaco':IdTiro++;gerarTiro(marginLeft,IdTiro,bottom);break;}})};
'use strict';var tamanhoMovimento=70;var limitaNave=function limitaNave(pixels,limite){return pixels<=limite&&pixels>=-20};var menosMovimento=function menosMovimento(valor){return valor-=tamanhoMovimento};var maisMovimento=function maisMovimento(valor){return valor+=tamanhoMovimento};var fluxoNatural=function fluxoNatural(pixels,direcao,comparacao){return direcao===comparacao?menosMovimento(pixels):maisMovimento(pixels)};var fluxoInverso=function fluxoInverso(pixels,direcao,comparacao){return direcao===comparacao?maisMovimento(pixels):menosMovimento(pixels)};var movimentaHorizontalmenteNave=function movimentaHorizontalmenteNave(direcao,left){left=fluxoNatural(left,direcao,'esquerda');var permitirMovimento=limitaNave(left,widthTela);if(!permitirMovimento)left=fluxoInverso(left,direcao,'esquerda');moverHorizontal('#nave',left+'px');return left};var movimentaVerticalmenteNave=function movimentaVerticalmenteNave(direcao,bottom){bottom=fluxoNatural(bottom,direcao,'baixo');var permitirMovimento=limitaNave(bottom,parseInt(heightTela*.9));if(!permitirMovimento)bottom=fluxoInverso(bottom,direcao,'baixo');moverVertical('#nave',bottom+'px');return bottom};
'use strict';function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var togglePause=function togglePause(pausado){var seletor='.veu';var classes=[].concat(_toConsumableArray(pegarElemento(seletor).classList));var classe='mostrar';var mostrarTelaPause=function mostrarTelaPause(){return addClass(seletor,classe)};var escondeTelaPause=function escondeTelaPause(){return removerClass(seletor,classe)};pausado?mostrarTelaPause():escondeTelaPause()};
"use strict";function acresentarPontuacao(){var pontuacao=document.querySelector("#contadorMeteoro");var pontos=pontuacao.innerHTML;pontos++;document.querySelector("#contadorMeteoro").innerHTML=pontos}function setHistoricoPontos(pontuacao){var registros=[];if(localStorage.getItem("pontos")!=null){registros=JSON.parse(localStorage.getItem("pontos"))}registros.push(pontuacao);localStorage.setItem("pontos",JSON.stringify(registros));window.location.replace("menu.html")}function getHistoricoPontos(){var registros=JSON.parse(localStorage.getItem("pontos"))||[];var i=0;registros.forEach(function(pontos){var item=document.createElement("li");item.setAttribute("id","item"+i);item.textContent=pontos;document.getElementById("ListaPontuacao").appendChild(item);i++})}function setHistoricoNomes(){var campo=document.querySelector("#Nome");var nome=campo.value;var registros=[];if(validaNome(campo)){if(localStorage.getItem("nomes")!==null){registros=JSON.parse(localStorage.getItem("nomes"))}registros.push(nome);localStorage.setItem("nomes",JSON.stringify(registros));window.location.replace("Pontuacao.html")}else{campo.style.borderColor="red";campo.style.color="red";campo.value="Campo Obrigat\xF3rio"}}function validaNome(campo){return campo.value?true:false}function getHistoricoNomes(){var registros=JSON.parse(localStorage.getItem("nomes"));var i=0;if(!!registros){registros.forEach(function(nomes){var item=document.createElement("li");item.setAttribute("id","item"+i);item.textContent=nomes;document.getElementById("ListaNome").appendChild(item);i++})}}function getHistorico(){getHistoricoNomes();getHistoricoPontos()}
"use strict";var Tela=pegarElemento(".tela");var widthTela=Tela.clientWidth;var heightTela=Tela.clientHeight;var config=JSON.parse(sessionStorage.getItem("config"));var pause=false;var Game_init=function Game_init(){var init=function init(i,callback,time){for(var _len=arguments.length,params=Array(_len>3?_len-3:0),_key=3;_key<_len;_key++){params[_key-3]=arguments[_key]}setInterval(function(){if(!pause)i++&&callback.apply(undefined,[i].concat(params))},time)};config.mobile?usarBotoes():usarTeclado();init(0,nebulosa,200);init(0,gerarPlanetas,1000);init(0,gerarMeteoro,3000)};
"use strict";Object.prototype.posisao=function(){var posisao={};posisao.top=this.offsetTop;posisao.left=this.offsetLeft;return posisao};Object.prototype.colisao=function(obj1,obj2){var x1=obj1[0]<obj2[0]?obj1:obj2;var x2=obj1[0]<obj2[0]?obj2:obj1;return x1[1]>x2[0]||x1[0]===x2[0]};
'use strict';var usarTeclado=function usarTeclado(){var esquerda=parseInt(widthTela/2);var baixo=parseInt(heightTela/100*20);var IdTiro=0;var escutarTeclas=function escutarTeclas(event){var tecla=event.key.toUpperCase();var left=function left(pixels){return movimentaHorizontalmenteNave('esquerda',pixels)};var right=function right(pixels){return movimentaHorizontalmenteNave('direita',pixels)};var up=function up(pixels){return movimentaVerticalmenteNave('cima',pixels)};var bottom=function bottom(pixels){return movimentaVerticalmenteNave('baixo',pixels)};if(tecla==='A'||tecla==='ARROWLEFT'){if(!pause)esquerda=left(esquerda)}else if(tecla==='D'||tecla==='ARROWRIGHT'){if(!pause)esquerda=right(esquerda)}else if(tecla==='W'||tecla==='ARROWUP'){if(!pause)baixo=up(baixo)}else if(tecla==='S'||tecla==='ARROWDOWN'){if(!pause)baixo=bottom(baixo)}else if(tecla==='ENTER'){pause=!pause;togglePause(pause)}else if(tecla===' '){if(!pause){IdTiro++;gerarTiro(esquerda,IdTiro,baixo)}}};document.addEventListener('keydown',escutarTeclas)};
"use strict";var gerarTiro=function gerarTiro(posisaoNave,Id,pixels){var tamanhoImg=60;var posisaoTiro=pixels+tamanhoImg;var src="img/tiro/Tiro.png";var id="tiro"+Id;var classe="tiro";var left=posisaoNave+20+"px";criar({src:src,id:id,classe:classe,left:left}).style.bottom=posisaoTiro+"px";var timer=setInterval(function(){return posisaoTiro=moverTiro(id,posisaoTiro,timer)},30)};var moverTiro=function moverTiro(Id,posisaoAtualTiro,Interval){posisaoAtualTiro+=30;!limite(posisaoAtualTiro,heightTela)?moverVertical("#"+Id,posisaoAtualTiro+"px"):removerElemento("#"+Id,Interval);return posisaoAtualTiro};